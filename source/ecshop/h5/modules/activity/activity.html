<div class="app-container with-navbar with-tabbar" ng-controller="ActivityController">

    <div class="navbar fixed-top">
        <div class="navbar-left hide-weixin" ng-click="goBack()">
            <img class="button-icon" src="image/nav-left.png"/>
            <div class="button-text">返回</div>
        </div>
        <div class="navbar-title">
            优惠活动
        </div>
        <div class="navbar-right">
        </div>
    </div>

    <div class="app-content" infinite-scroll='activityModel.loadMore()'>

        <!-- Cashgift -->
        <div class="activity-list" ng-if="activityModel.activities && activityModel.activities.length">
            <div class="list-item readonly" ng-repeat="activity in activityModel.activities track by $index" ng-click="touchActivity(activity)">
                <img ng-src="image/pic_active@2x.png"/>
                <div class="item-info">
                    <div class="info-name">{{activity.name}}</div>
                    <div class="info-condition">{{activity.promo}}</div>
                    <div class="info-expires" ng-if="activity.range == ENUM.ACTIVITY_FAR.FAR_ALL">全部商品可用</div>
                     <div class="info-expires" ng-if="activity.range == ENUM.ACTIVITY_FAR.FAR_CATEGORY">部分分类可用</div>
                     <div class="info-expires" ng-if="activity.range == ENUM.ACTIVITY_FAR.FAR_BRAND">部分品牌可用</div>   
                     <div class="info-expires" ng-if="activity.range == ENUM.ACTIVITY_FAR.FAR_GOODS">部分商品可用</div>                                         
                    <div class="info-expires">{{activity.start_at  | localTime}} - {{activity.end_at  | localTime}}</div>
                </div>
            </div>
        </div>

        <div class="empty" ng-if="activityModel.isEmpty">
            <div class="empty-item">
                <img class="item-logo" ng-src="image/logo-cashgift-empty.png"/>
                <div class="item-text">暂无任何优惠</div>
            </div>
        </div>

        <div class="loading-more" ng-if="activityModel.isLoaded && activityModel.isLoading">
            正在加载...
        </div>
        <div class="loading-more" ng-if="activityModel.isLoaded && activityModel.isLastPage">
            全部加载完毕
        </div>

    </div>

</div>

